{% extends "base.html" %}

{% set active_page = 'train' %}

{% block title %}Train Model - AI Insight{% endblock %}

{% block content %}
<div class="breadcrumb">Configuration / Model Training</div>
<h1>Model Training</h1>
<p style="margin-bottom: 2.5rem; color: var(--text-muted);">Launch a new training job with customized architecture and
    hyperparameters.</p>

<div class="card form-section shadow-sm"
    style="background: linear-gradient(135deg, rgba(255, 255, 255, 0.98), rgba(248, 250, 252, 0.98)); max-width: 1000px;">
    <form action="/train" method="post">
        <!-- Model Architecture Section -->
        <div
            style="margin-bottom: 2.5rem; padding: 2rem; background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(236, 72, 153, 0.05)); border-radius: 1rem; border: 2px solid var(--border-color);">
            <h3
                style="font-size: 1.125rem; font-weight: 700; margin-bottom: 1.5rem; color: var(--text-main); display: flex; align-items: center; gap: 0.5rem;">
                <span style="font-size: 1.5rem;">ü§ñ</span> Model Architecture
            </h3>
            <div class="form-group" style="margin-bottom: 0;">
                <label for="model_name">Select Model</label>
                <select id="model_name" name="model_name" style="font-weight: 600;">
                    <option value="YOLO12">YOLO12 (Latest - Recommended)</option>
                    <option value="YOLO12n">YOLO12n (Nano - Fastest)</option>
                    <option value="YOLO12s">YOLO12s (Small - Balanced)</option>
                    <option value="YOLOv8">YOLOv8 (Stable - Legacy)</option>
                </select>
            </div>
        </div>

        <!-- Training Parameters Section -->
        <div
            style="margin-bottom: 2.5rem; padding: 2rem; background: linear-gradient(135deg, rgba(16, 185, 129, 0.05), rgba(5, 150, 105, 0.05)); border-radius: 1rem; border: 2px solid var(--border-color);">
            <h3
                style="font-size: 1.125rem; font-weight: 700; margin-bottom: 1.5rem; color: var(--text-main); display: flex; align-items: center; gap: 0.5rem;">
                <span style="font-size: 1.5rem;">‚öôÔ∏è</span> Training Parameters
            </h3>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                <div class="form-group" style="margin-bottom: 0;">
                    <label for="epochs">üîÑ Epochs</label>
                    <input type="number" id="epochs" name="epochs" value="50" min="1" required>
                    <small
                        style="color: var(--text-muted); font-size: 0.8rem; display: block; margin-top: 0.5rem;">Number
                        of complete passes through the dataset</small>
                </div>
                <div class="form-group" style="margin-bottom: 0;">
                    <label for="batch_size">üì¶ Batch Size</label>
                    <select id="batch_size" name="batch_size">
                        <option value="8">8 (Low Memory)</option>
                        <option value="16">16 (Balanced)</option>
                        <option value="32" selected>32 (Recommended)</option>
                        <option value="64">64 (High Performance)</option>
                    </select>
                    <small
                        style="color: var(--text-muted); font-size: 0.8rem; display: block; margin-top: 0.5rem;">Number
                        of samples per training step</small>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                <div class="form-group" style="margin-bottom: 0;">
                    <label for="learning_rate">üìä Learning Rate</label>
                    <input type="text" id="learning_rate" name="learning_rate" value="0.0001" pattern="[0-9]*\.?[0-9]+"
                        placeholder="e.g., 0.0001, 0.001, 0.00001" required
                        style="font-family: 'Courier New', monospace; font-weight: 600;">
                    <small style="color: var(--text-muted); font-size: 0.8rem; display: block; margin-top: 0.5rem;">
                        Controls how quickly the model learns (typical: 0.0001 - 0.001)
                    </small>
                </div>
                <div class="form-group" style="margin-bottom: 0;">
                    <label for="classes">üéØ Number of Classes</label>
                    <input type="number" id="classes" name="classes" value="1" min="1" required>
                    <small style="color: var(--text-muted); font-size: 0.8rem; display: block; margin-top: 0.5rem;">
                        Total number of object categories to detect
                    </small>
                </div>
            </div>
        </div>

        <!-- Data Augmentation Section -->
        <div class="form-group"
            style="padding: 2rem; background: linear-gradient(135deg, rgba(245, 158, 11, 0.08), rgba(251, 146, 60, 0.08)); border-radius: 1rem; border: 2px solid rgba(245, 158, 11, 0.3); margin-bottom: 2.5rem;">
            <h3
                style="font-size: 1.125rem; font-weight: 700; margin-bottom: 1rem; color: var(--text-main); display: flex; align-items: center; gap: 0.5rem;">
                <span style="font-size: 1.5rem;">‚ú®</span> Data Augmentation
            </h3>
            <label
                style="display: flex; align-items: center; cursor: pointer; user-select: none; text-transform: none; font-size: 1rem; font-weight: 600; margin-bottom: 0;">
                <input type="checkbox" id="augmentation" name="augmentation" value="true"
                    style="width: 1.25rem; height: 1.25rem; margin-right: 1rem; cursor: pointer; accent-color: var(--warning);"
                    checked>
                <span>Enable Data Augmentation (Rotation, Scaling, Flipping, Color Jitter)</span>
            </label>
            <small
                style="color: var(--text-muted); font-size: 0.8rem; display: block; margin-top: 0.75rem; margin-left: 2.25rem;">
                Improves model generalization by creating variations of training images
            </small>
        </div>

        <!-- Submit Button -->
        <div style="border-top: 2px solid var(--border-color); padding-top: 2rem;">
            <button type="submit" class="btn btn-lg" style="font-size: 1.125rem; padding: 1.5rem 3rem;">
                <span style="margin-right: 0.75rem; font-size: 1.25rem;">üöÄ</span> Initialize Training Job
            </button>
        </div>
    </form>
</div>
{% endblock %}